<div class="card p-4">
  <div class="flex justify-content-between align-items-center mb-4">
    <h2 class="m-0">Listado de Plan Nacional</h2>
    <button pButton pRipple 
            type="button" 
            label="Nuevo Plan" 
            icon="pi pi-plus" 
            class="p-button-success" 
            routerLink="new"></button>
  </div>

  <ng-container *ngIf="pnList; else loadingTemplate">
    <app-generic-table [data]="pnList" 
                      [config]="tableConfig"
                      [loading]="false"
                      [totalRecords]="totalRecords"
                      (onPageChange)="loadPn($event)"
                      (onRowSelect)="viewPn($event.codigo)">
    </app-generic-table>
  </ng-container>

  <ng-template #loadingTemplate>
    <div class="loading-overlay">
      <app-spinner *ngIf="loading"></app-spinner>
    </div>
  </ng-template>
</div>

<p-toast position="top-right"></p-toast>
<p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>
