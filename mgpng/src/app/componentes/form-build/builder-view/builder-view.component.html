<div class="position-relative">
  <!-- TABLA DE SELECCIÃ“N DE FORMULARIOS -->
  <ng-container *ngIf="!formularioSeleccionado">
    <div class="card p-4" [class.opacity-50]="loading">
      <div class="flex justify-content-between align-items-center mb-4">
        <h2 class="m-0">FORMULARIOS</h2>
      </div>
      <app-generic-table
        [data]="formularios"
        [config]="tableConfig"
        [loading]="loading"
        [totalRecords]="totalRecords"
        (onPageChange)="onPageChange($event)"
        (onSearch)="onSearch($event)"
        (onSortChange)="onSortChange($event)"
        (onRowClick)="seleccionarFormulario($event)">
      </app-generic-table>
    </div>
  </ng-container>

  <!-- VISTA DEL FORMULARIO  -->
  <app-formulario-pdf-view *ngIf="formularioSeleccionado"
    [formulario]="formulario"
    [secciones]="secciones"
    [camposPorSeccion]="camposPorSeccion"
    [today]="today"
    (deseleccionarFormulario)="deseleccionarFormulario()">
  </app-formulario-pdf-view>

  <app-spinner *ngIf="loading" class="centered-spinner"></app-spinner>
</div>

<p-toast position="top-right"></p-toast>
